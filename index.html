<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Spacewar with Asteroids</title>

<style>
  body {
    margin: 0;
    background: black;
    color: white;
    font-family: monospace;
    text-align: center;
  }
  canvas {
    display: block;
    margin: 20px auto;
    border: 2px solid white;
    image-rendering: pixelated;
  }
</style>
</head>

<body>
<h1>SPACEWAR+</h1>
<p>← → rotate · ↑ thrust · space = fire</p>

<canvas id="game" width="512" height="512"></canvas>

<script>
/* ================== SETUP ================== */

const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

/* ================== GAME STATE ================== */

const ship = { x:256, y:256, angle:0, vx:0, vy:0 };
const star = { x:256, y:256, mass:300, radius:12 }; // REDUCED GRAVITY

const torpedoes = [];
const explosions = [];
const stars = [];
const asteroids = [];
const keys = {};

let alive = true;
let respawnTimer = 0;

/* ================== BACKGROUND STARS ================== */

for (let i = 0; i < 100; i++) {
  stars.push({
    x: Math.random() * 512,
    y: Math.random() * 512,
    vx: (Math.random() - 0.5) * 0.1,
    vy: (Math.random() - 0.5) * 0.1
  });
}

/* ================== ASTEROIDS ================== */

for (let i = 0; i < 6; i++) {
  asteroids.push({
    x: Math.random() * 512,
    y: Math.random() * 512,
    vx: (Math.random() - 0.5) * 1.5,
    vy: (Math.random() - 0.5) * 1.5,
    r: 12 + Math.random() * 10
  });
}

/* ================== INPUT ================== */

document.addEventListener("keydown", e => {
  keys[e.key]()
